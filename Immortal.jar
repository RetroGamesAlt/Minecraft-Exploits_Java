import net.minecraft.client.Minecraft;
import net.minecraft.entity.player.EntityPlayer;
import net.minecraft.util.ChatComponentText;
import net.minecraft.util.IChatComponent;
import net.minecraftforge.fml.common.eventhandler.Event;

public class AutoHealScript {

    private static boolean isHealing;
    private static int healDelay;

    @SubscribeEvent
    public void onDamage(Event event) {
        if (event.entity instanceof EntityPlayer && !isHealing) {
            EntityPlayer player = (EntityPlayer) event.entity;
            player.addChatMessage(new ChatComponentText("Healing..."));
            isHealing = true;

            new Thread(() -> {
                try {
                    Thread.sleep(healDelay);
                } catch (InterruptedException e) {
                    e.printStackTrace();
                }
                player.heal(1.0f);
                isHealing = false;
            }).start();
        }
    }
}